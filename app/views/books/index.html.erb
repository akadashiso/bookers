<body>
<% if flash[:notice] %>
     <p id="notice">
       <%= flash[:notice] %>
     </p>
<% end %>
  <h1><strong>Books</strong></h1>

  <table class="book-content">
    <section class="book-item">
      <h3>Title</h3>
      <% @books.each do |book| %>
        <p class="book-text-heading"><%= book.title %></p>
      <% end %>
    </section>
    <section class="book-item">
      <h3>Body</h3>
    <% @books.each do |book| %>
      <p class="book-text-heading"><%= book.body %></p>
      <% end %>
    </section>
    <section class="book-item">
      <h3></h3>
    <% @books.each do |book| %>
      <p class="book-text-heading">
          <a href="/books/<%= book.id %>">Show</a>
          <a href="/books/<%= book.id %>/edit">Edit</a>
          <%= link_to "Destroy", book_path(book), method: :delete, "data-confirm" => "Are you sure?" %>
        </p>
      <% end %>
    </section>

  </table>


  <div class="newbook">
    <h2><strong>New book</strong></h2>
    <!-- form_with部分 -->
    <%= form_with model:Book.new, local:true do |f| %>
      <% if @book.errors.any? %>
          <div id="error_explanation">
      <h2><%= @book.errors.count %>"error prohibited this product from being saved:"</h2>

      <ul>
        <% @book.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
      <% end %>

      <h4>Title</h4>
      <%= f.text_field :title %>

      <h4>Body</h4>
      <%= f.text_area :body %> </br>

      <%= f.submit 'Create Book' %>

    <% end %>
  </div>

</body>

